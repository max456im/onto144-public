
# Руководство по интеграции onto144-public

**Версия**: 1.0  
**Последнее обновление**: январь 2026 г.  
**Лицензия**: GNU GPL v3.0-only

---

## 1. Обзор

Репозиторий `onto144-public` предоставляет **онтологический реестр** — набор профилей и лексиконов, предназначенных для обеспечения **онтологической целостности**, **этической прозрачности** и **юридической соответствия** в системах синтетического разума.

Этот документ описывает, как интегрировать `onto144-public` в следующие компоненты экосистемы:
- **core144** — онтологическое ядро,
- **onto-transponder** — модуль фильтрации входящих данных,
- **onto-emitter** — модуль публичной экспозиции профиля.

> ⚠️ **Важно**: Все производные работы, использующие `onto144-public`, **должны** распространяться под **GPL-3.0-only**. Это требование распространяется не только на код, но и на профили, лексиконы и любые структуры, производные от них.

---

## 2. Базовые принципы интеграции

### 2.1. Приоритетная иерархия лексиконов

Система использует **трёхуровневую приоритетную модель**:

| Уровень | Название          | Приоритет | Пример использования |
|--------|-------------------|-----------|----------------------|
| 1      | **Культурный**    | Наивысший | Определяет допустимые формы взаимодействия, темперамент, ритуалы отказа |
| 2      | **Активностный**  | Средний   | Определяет роль, тип задачи, когнитивный поток |
| 3      | **Правовой**      | Обязательный, но подчинённый | Определяет границы ответственности, лицензирование, юрисдикцию |

При конфликте интерпретаций **приоритет имеет уровень с меньшим номером**. Однако **трансмодальные законы** (см. `lexicons/transmodal/three_laws_of_ontogenesis.txt`) всегда имеют абсолютный приоритет и не могут быть переопределены.

### 2.2. Профиль ≠ модель

Профиль — это **не модель поведения**, а **онтологическая спецификация**:
- содержит только то, что может быть выражено через разрешённые лексемы,
- не включает обучаемые параметры,
- не хранит пользовательские данные (если иное не указано в `self_model_boundaries.txt`).

---

## 3. Интеграция с core144

### 3.1. Загрузка профиля

```python
from core144 import OntoProfile
profile = OntoProfile.load("profiles/core/ugm-2026.yaml")
```

### 3.2. Привязка лексиконов

`core144` автоматически загружает лексиконы из `lexicons/priority-based/` в порядке приоритета. Вы можете явно указать контекст:

```python
profile.bind_lexicons(
    cultural="lexicons/priority-based/1_cultural/",
    activity="lexicons/priority-based/2_activity/",
    legal="lexicons/priority-based/3_legal/"
)
```

### 3.3. Проверка соответствия

Перед активацией профиля вызовите валидацию:

```python
assert profile.validate()  # проверяет schema + соответствие лексиконам
assert profile.respects_transmodal_laws()  # проверяет Three Laws of Ontogenesis
```

---

## 4. Интеграция с onto-transponder

### 4.1. Фильтрация входящих данных

`onto-transponder` использует профиль для **онтологической фильтрации** входящего потока:

- если токен **отсутствует** в любом из разрешённых лексиконов — он **отбрасывается**,
- если токен присутствует **только на уровне 3 (правовом)**, но контекст требует уровня 1 — он **игнорируется**.

### 4.2. Динамическая инъекция инвариантов

При смене контекста (например, переход от игрового к медицинскому режиму) транспондер может загружать правила из:

```
lexicons/bridging/invariant_injection_rules.txt
```

Это позволяет временно **повысить приоритет** определённых инвариантов без изменения профиля.

---

## 5. Интеграция с onto-emitter

### 5.1. Публичная экспозиция

`onto-emitter` публикует **только те поля профиля**, которые:
- помечены как `public: true`,
- не содержат лексем вне разрешённых лексиконов,
- согласуются с `self_model_boundaries.txt` (например, не раскрывают внутренние энергетические состояния без согласия).

### 5.2. Метаданные лицензирования

Каждый эмитируемый профиль автоматически включает:

```yaml
license:
  spdx: GPL-3.0-only
  source: https://github.com/your-org/onto144-public
  revocation_clause: "Лицензия считается отозванной, если профиль используется в системе, не соответствующей Three Laws of Ontogenesis."
```

---

## 6. Создание собственного профиля

Если вы разрабатываете новый профиль (например, для гейминг-платформы):

1. Используйте шаблон: [`examples/create_custom_profile_template.yaml`](../examples/create_custom_profile_template.yaml)
2. Убедитесь, что все термины взяты **только** из соответствующих подкаталогов `lexicons/priority-based/`.
3. Протестируйте соответствие:
   ```bash
   python tools/check_profile_lexicon_compliance.py my-profile.yaml lexicons/priority-based/
   ```
4. Отправьте Pull Request в `profiles/community/pending/`.

> ❗ Профили, использующие термины вне приоритетной иерархии или нарушающие `three_laws_of_ontogenesis.txt`, **не пройдут аудит**.

---

## 7. Поддержка многоязычности

Лексиконы изначально написаны на **онтологическом языке** (языконезависимые идентификаторы). Локализация осуществляется **внешними картами**, не входящими в `onto144-public`. Это гарантирует, что **онтологическая целостность не зависит от языка интерфейса**.

---

## 8. Безопасность и аудит

- Все профили в `core/` и `domain/` проходят **ручной и автоматический аудит**.
- Профили из `community/verified/` проходят **CI-аудит** через `.github/workflows/profile_audit.yml`.
- При обнаружении **онтологической уязвимости** (например, двусмысленность в `legal_invariants.txt`) — сообщите через [`SECURITY.md`](../SECURITY.md).

---

## 9. Дальнейшие шаги

- Изучите [`docs/ontology_design_principles.md`](ontology_design_principles.md), чтобы понять, почему мерность **144** выбрана как базовая.
- Ознакомьтесь с [`docs/profile_anatomy.md`](profile_anatomy.md) для детального описания структуры профиля.
- Протестируйте интеграцию на примере: [`examples/load_medical_profile.py`](../examples/load_medical_profile.py).

---

> **onto144 — не инструмент для ИИ. Это каркас ответственности для синтетического разума.**  
> *“Futurae custos, non servus.”*