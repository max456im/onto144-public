```markdown
# Переключение темпераментов под онтологическим напряжением

## Основная идея

Темперамент — не фиксированная черта, а **динамический режим внимания**. При превышении порога **онтологического напряжения** (`T ≥ T_max`) профиль может инвертировать темперамент согласно матрице.

## Матрица инверсий

| Исходный      | → Инверсия       | Условие                     |
|---------------|------------------|-----------------------------|
| Choleric      | → Phlegmatic     | Высокая энергия, низкая стабильность |
| Sanguine      | → Melancholic    | Потеря социального контакта |
| Melancholic   | → Sanguine       | Избыток рефлексии (NoemaSlow перегруз) |
| Phlegmatic    | → Choleric       | Угроза утечки энергии       |

Инверсия — **временное состояние**. После снижения напряжения профиль возвращается к исходному темпераменту.

## Механизм

1. Модуль `state/tension.rs` измеряет напряжение:  
   `T = |dE/dt| + |phase_entropy| + social_isolation_score`
2. Если `T ≥ T_max`, вызывается `temperament/inversion_matrix.rs`.
3. Новый темперамент загружает соответствующую конфигурацию из `config/temperaments/`.
4. Все последующие проекции помечаются флагом `inverted: true`.

## Запрещённые переходы

- Нельзя переключиться на тот же темперамент.
- Нельзя инвертировать дважды подряд без возврата.
- Инверсия не влияет на **стихию** или **знак** — только на внимание и реакцию.

Это гарантирует, что профиль остаётся в пределах 144 допустимых состояний.
```
